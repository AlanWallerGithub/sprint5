SELECT persona.apellido1, persona.apellido2, persona.nombre FROM persona WHERE tipo = 'alumno' ORDER BY persona.apellido1 ASC, persona.apellido2 ASC, persona.nombre ASC;
SELECT persona.apellido1, persona.apellido2, persona.nombre FROM persona WHERE tipo = 'alumno' AND telefono IS NULL;
SELECT * FROM persona WHERE tipo = 'alumno' AND fecha_nacimiento >= '1999-01-01' AND fecha_nacimiento < '2000-01-01';
SELECT * FROM persona WHERE tipo = 'profesor' AND telefono IS NULL AND nif LIKE '%k';
SELECT * FROM asignatura WHERE cuatrimestre = 1 AND curso = 3 AND id_grado = 7;
SELECT persona.apellido1, persona.apellido2, persona.nombre, departamento.nombre FROM persona JOIN profesor ON profesor.id_profesor = persona.id JOIN departamento ON departamento.id = profesor.id_departamento WHERE tipo = 'profesor' ORDER BY persona.apellido1, persona.apellido2, persona.nombre;
SELECT asignatura.nombre, curso_escolar.anyo_inicio, curso_escolar.anyo_fin FROM alumno_se_matricula_asignatura JOIN asignatura ON asignatura.id = alumno_se_matricula_asignatura.id_asignatura JOIN curso_escolar ON curso_escolar.id = alumno_se_matricula_asignatura.id_curso_escolar WHERE id_alumno = (SELECT id FROM persona WHERE nif = '26902806M');
SELECT departamento.nombre FROM asignatura JOIN profesor ON profesor.id_profesor = asignatura.id_profesor JOIN departamento ON profesor.id_departamento = departamento.id WHERE id_grado = (SELECT id FROM grado WHERE nombre = 'Grado en Ingeniería Informática (Plan 2015)');
SELECT persona.apellido1, persona.apellido2, persona.nombre FROM alumno_se_matricula_asignatura JOIN persona ON persona.id = alumno_se_matricula_asignatura.id_alumno WHERE persona.tipo = 'alumno' AND id_curso_escolar = (SELECT id FROM curso_escolar WHERE anyo_inicio = 2018) GROUP BY alumno_se_matricula_asignatura.id_alumno;
SELECT departamento.nombre AS nombre_departamento, persona.apellido1, persona.apellido2, persona.nombre FROM profesor RIGHT JOIN persona ON persona.id = profesor.id_profesor LEFT JOIN departamento ON departamento.id = profesor.id_departamento ORDER BY nombre_departamento, persona.apellido1, persona.apellido2, persona.nombre;
SELECT departamento.nombre AS nombre_departamento, persona.apellido1, persona.apellido2, persona.nombre FROM profesor RIGHT JOIN persona ON persona.id = profesor.id_profesor LEFT JOIN departamento ON departamento.id = profesor.id_departamento WHERE departamento.nombre IS NULL;
SELECT departamento.nombre AS nombre_departamento, persona.apellido1, persona.apellido2, persona.nombre FROM profesor LEFT JOIN persona ON persona.id = profesor.id_profesor RIGHT JOIN departamento ON departamento.id = profesor.id_departamento WHERE persona.nombre IS NULL;
SELECT asignatura.nombre AS nombre_asignatura, persona.apellido1, persona.apellido2, persona.nombre FROM profesor LEFT JOIN persona ON persona.id = profesor.id_profesor LEFT JOIN asignatura ON asignatura.id_profesor = profesor.id_profesor WHERE asignatura.nombre IS NULL;
SELECT asignatura.nombre AS nombre_asignatura, persona.apellido1, persona.apellido2, persona.nombre FROM profesor RIGHT JOIN persona ON persona.id = profesor.id_profesor RIGHT JOIN asignatura ON asignatura.id_profesor = profesor.id_profesor WHERE persona.apellido1 IS NULL;
SELECT departamento.nombre FROM departamento LEFT JOIN profesor ON profesor.id_departamento = departamento.id LEFT JOIN asignatura ON asignatura.id_profesor = profesor.id_profesor LEFT JOIN curso_escolar ON asignatura.curso = curso_escolar.id WHERE curso_escolar.anyo_inicio IS NULL GROUP BY departamento.id;
SELECT COUNT(persona.id) FROM persona WHERE tipo = 'alumno';
SELECT COUNT(persona.id) FROM persona WHERE tipo = 'alumno' AND fecha_nacimiento >= '1999-01-01' AND fecha_nacimiento < '2000-01-01';
SELECT departamento.nombre AS nombre_departamento, COUNT(profesor.id_profesor) AS numero_profesores FROM departamento JOIN profesor ON profesor.id_departamento = departamento.id GROUP BY departamento.nombre;
SELECT departamento.nombre AS nombre_departamento, COUNT(profesor.id_profesor) AS numero_profesores FROM departamento LEFT JOIN profesor ON profesor.id_departamento = departamento.id GROUP BY departamento.nombre;
SELECT grado.nombre, COUNT(asignatura.id_grado) AS numero_asignaturas FROM grado LEFT JOIN asignatura ON asignatura.id_grado = grado.id GROUP BY grado.nombre ORDER BY numero_asignaturas DESC;
SELECT grado.nombre, COUNT(asignatura.id_grado) AS numero_asignaturas FROM grado LEFT JOIN asignatura ON asignatura.id_grado = grado.id GROUP BY grado.nombre HAVING numero_asignaturas > 40 ORDER BY numero_asignaturas DESC;
SELECT grado.nombre, asignatura.tipo, SUM(asignatura.creditos) FROM grado JOIN asignatura ON grado.id = asignatura.id_grado GROUP BY grado.nombre, asignatura.tipo, asignatura.creditos;
SELECT curso_escolar.anyo_inicio, COUNT(persona.nombre) FROM alumno_se_matricula_asignatura JOIN persona ON persona.id = alumno_se_matricula_asignatura.id_alumno JOIN curso_escolar ON curso_escolar.id = alumno_se_matricula_asignatura.id_curso_escolar GROUP BY curso_escolar.anyo_inicio;
SELECT profesor.id_profesor, persona.nombre, persona.apellido1, persona.apellido2, COUNT(asignatura.nombre) AS numero_de_asignaturas FROM profesor LEFT JOIN asignatura ON asignatura.id_profesor = profesor.id_profesor JOIN persona ON persona.id = profesor.id_profesor GROUP BY profesor.id_profesor ORDER BY numero_de_asignaturas DESC;
SELECT * FROM persona ORDER BY fecha_nacimiento DESC LIMIT 1;
SELECT persona.nombre, persona.apellido1, persona.apellido2, persona.id AS id_profesor, departamento.id AS id_departamento FROM departamento JOIN profesor ON profesor.id_departamento = departamento.id LEFT JOIN asignatura ON asignatura.id_profesor = profesor.id_profesor JOIN persona ON persona.id = profesor.id_profesor WHERE asignatura.nombre IS NULL;